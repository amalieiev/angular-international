!function(a){"use strict";a.module("amalieiev.international",[])}(angular),function(a,b){"use strict";a.module("amalieiev.international").provider("$international",[function(){function c(a,b){return j.urlTemplate.replace("{locale}",a).replace("{part}",b)}function d(a){var c;return h[a]?h[a]:(c=new b.XMLHttpRequest,c.open("GET",a,!1),c.send(null),h[a]=JSON.parse(c.responseText),h[a])}function e(b){a.forEach(i,function(e){j.sync?a.extend(g,d(c(b,e))):f.get(c(b,e),{cache:!0}).then(function(b){a.extend(g,b.data)})})}var f,g={},h={},i=[],j={sync:!1,baseLocale:null,preferredLocale:"en",urlTemplate:"/i18n/{locale}/{part}.json"};return{config:function(a){a.baseLocale&&(j.baseLocale=a.baseLocale),a.preferredLocale&&(j.preferredLocale=a.preferredLocale),a.urlTemplate&&(j.urlTemplate=a.urlTemplate),a.sync&&(j.sync=a.sync)},addPart:function(a){i.push(a)},$get:["$http",function(a){return f=a,j.baseLocale&&e(j.baseLocale),j.baseLocale!==j.preferredLocale&&e(j.preferredLocale),{use:e,locale:g}}]}}])}(angular,window);